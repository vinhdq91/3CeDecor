function SortProduct(){$(".product-sort").on("change",function(){document.cookie="SortProductId="+$(this).val()+";path=/;";var n=location.href;n=n.replace(new RegExp("/p([0-9]+)"),"");location.href=n;location.reload()});var n=readCookie("SortProductId");$(".product-sort option[value="+n+"]").attr("selected","selected")}function readCookie(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)===" ";)t=t.substring(1,t.length);if(t.indexOf(r)===0)return t.substring(r.length,t.length)}return null}$(document).ready(function(){SortProduct()});var boxSearchInHeader={Init:function(){boxSearchInHeader.PostBoxSearchProduct()},PostBoxSearchProduct:function(){var n=$("#categoryId option:selected").data("url");location.href.indexOf("text-"+$("#textSearch").val()+"/p")!==-1&&(location.href="/product-search/"+categoryName+"/text-"+$("#textSearch").val());$.ajax({type:"POST",url:"/Products/ProductSearch",data:{categoryId:$("#categoryId").val(),textSearch:$("#textSearch").val()},success:function(){location.href=$("#textSearch").val()!==""?"/product-search/"+n+"/text-"+$("#textSearch").val():"/product-search/"+n;return}})},GetCategoryNameFromId:function(n){var t="";switch(n){case 0:t="tat-ca";break;case 1:t="nha-cua";break;case 2:t="nha-hang-khach-san";break;case 3:t="do-choi-tre-em";break;default:t="tat-ca"}return t}},productSearch={SearchByPrice:function(){location.href.indexOf("/product-for-sale")!==-1&&(location.href=location.href.replace("/product-for-sale","/product-search/tat-ca")+"/price-"+$("#priceMin").val()+"-"+$("#priceMax").val());location.href.indexOf("/strategy-")!==-1&&(location.href="/product-search/tat-ca/price-"+$("#priceMin").val()+"-"+$("#priceMax").val());$.ajax({type:"Post",url:"/Products/BoxFilterByPrice",data:{PriceMin:$("#priceMin").val(),PriceMax:$("#priceMax").val(),CategoryId:$("#boxPrice_categoryId").val(),TextSearch:$("#boxPrice_textSearch").val()},success:function(){location.href=location.href+"/price-"+$("#priceMin").val()+"-"+$("#priceMax").val()}})}},shoppingCart={ChangeQuantityOfProduct:function(n){var t=$("#quantity-"+n).val();$.ajax({type:"POST",url:"CartItems/ChangeQuantity",data:{productId:n,quantity:t},success:function(){location.reload()}})},AddToCart:function(n){var t=$("#quantityChange").val()<=0?1:$("#quantityChange").val();$.ajax({type:"POST",url:"/CartItems/AddToCart",data:{id:n,quantity:t},success:function(){location.reload()}})},DeleteCartItem:function(n){$.ajax({type:"POST",url:"CartItems/RemoveCartHeaderItem",data:{id:n},success:function(){location.reload()}})}},articleSearch={Init:function(){},SearchArticleByText:function(){(location.href.indexOf("article-search")!==-1||location.href.indexOf("article-blog-list/p")!==-1)&&(location.href="/article-search/"+$("#textSearchArticle").val());$.ajax({type:"POST",url:"ArticleBlogs/ArticleBlogSearch",data:{textSearch:$("#textSearchArticle").val()},success:function(){if($("#textSearchArticle").val()!==""&&$("#textSearchArticle").val()!==null){location.href="/article-search/"+$("#textSearchArticle").val();return}}})}};